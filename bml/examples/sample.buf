# sampling test

macro pi() 3.141519

macro norm_sin(x) (x + 1) / 2

sample_coords = coords

sample_coords = [
    sample_coords.x / mix(0.9, 2.0, (sin(coord.x / 300.0) + 1.0) / 2.0)
    sample_coords.y / mix(0.9, 2.0, (cos(coord.y / 300.0) + 1.0) / 2.0)
]

return sample(sample_coords)